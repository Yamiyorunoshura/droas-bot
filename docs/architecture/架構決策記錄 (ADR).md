## 架構決策記錄 (ADR)


### ADR-001: 單體架構選擇
**決策**: 選擇單體架構而非微服務
**理由**: 小型開發團隊維護需求和更簡單的部署
**替代方案**: 微服務架構、無服務器函數
**後果**: 更易於開發和調試，但潛在的擴展性限制

### ADR-002: 資料庫技術選擇
**決策**: 使用 PostgreSQL 作為主資料庫
**理由**: 交易完整性所需的 ACID 合規性和成熟的 Rust 生態系統支持
**替代方案**: MySQL、SQLite、MongoDB
**後果**: 具有經過驗證可靠性的強一致性保證

### ADR-003: 快取策略
**決策**: 實現 Redis 作為快取層
**理由**: 性能需求 (NFR-P-001, NFR-P-002) 和熱數據存取模式
**替代方案**: 記憶體快取、Memcached
**後果**: 提高性能但增加基礎設施複雜性

### ADR-004: Discord API 庫選擇
**決策**: 使用 Serenity 框架進行 Discord API 整合
**理由**: 成熟的 Rust Discord 庫，具有全面的功能支持和積極維護
**替代方案**: Twilight、直接 Discord API 實現
**後果**: 使用既定模式和良好文檔實現更快的開發

### ADR-005: 資料存取模式
**決策**: 實現 Repository 模式進行資料存取
**理由**: 提高可測試性、關注點分離和更易於資料庫模擬
**替代方案**: 直接資料庫查詢、Active Record 模式
**後果**: 額外的抽象層與改善的可維護性

